extends layout

block content
  .app(ng-controller="AppCtrl")
    tabs
      pane(title="Chat")
        .chat
          h2.tab-pane__title Bienvenue sur CoCity
          ul(ng-repeat="message in messages")
            li.message
              span.message__user
                {{message.author}}
              p.message__content
                {{message.content}}
                a(href="#", class="message__hash", 
                  ng-repeat='hash in message.hashtags', ng-click="toggleChannel(hash, $event)")
                    # {{ hash }}
        form.post(ng-submit="sendMessage()")
          button.post__submit(type="submit")
            i.ss-icon send
            span Send
          .post__message
            textarea(ng-model="message.content")
            img(src="/img/add-poi.svg", class="svg-icon", width="28")
      pane(title="Maps")
        .map
          google-map(center="center", draggable="true", zoom="zoom", markers="markers")
      pane(title="Channels")
        .channels
          h2.tab-pane__title Bienvenue sur la liste des channels
          ul
            li.chan(ng-repeat="chan in channels", ng-class="{'is-active': chan.joined == true}")
              a(href="#" ,ng-click="toggleChannel(chan.name, $event)")
                span.chan__name # {{chan.name}}
                span.chan__nb-users
                  i.ss-icon users
                  {{chan.users}}

